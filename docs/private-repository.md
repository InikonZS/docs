# Приватный репозиторий

## Как создать свой приватный репозиторий в RS School?
 Вам необходимо:
  - открыть dashboard в https://app.rs.school
  - нажать "Send invite again"
  - GitHub автоматически присылает вам инвайт для доступа в репозиторий. Инвайт приходит на почту указанную вами при регистрации на GitHub (а не на почту указанную вами в RS APP)

До момента выдачи приватного репозитория школы вы можете выполнять задания в личном репозитории.

## Как работать с приватным репозиторием?
* Склонировать его себе:  
  `git clone git@github.com:rolling-scopes-school/<your-school-repository>.git`
* Укажите в конфиге ваши данные (email впишите привязанный [к аккаунту GitHub](https://github.com/settings/emails)):  
   `git config user.name "Name Surname"`  
   `git config user.email "your@email"`
* Из ветки `main` создать ветку по имени задания:  
  `git checkout -b <task-name>`
* Создать папку по имени задания:  
  `mkdir <task-name>`  
  Все относящиеся к заданию файлы должны быть в ней.
* Выполнить задание, в процессе коммитая решения (см. [требования к коммитам](https://docs.rs.school/#/git-convention)).
* Залить ветку в remote branch на GitHub:  
  `git push origin <task-name>`
* Создать Pull Request из ветки `<task-name>` в ветку `main`. Мержить Pull Request не нужно.

## Требования к содержимому репозитория
* Изначально в репозитории находится ветка main, в которой расположены файлы `README.md` и `.gitignore`. 
* Для каждого таска от ветки main создается ветка с указанным в задании именем.
* Ветки с тасками должны содержать исходные файлы проекта, ассеты (шрифты, изображения) и конфигурационные файлы, необходимые для запуска сборки проекта.
* В `README.md` можно разместить ссылку на деплой проекта и краткую инструкцию по установке зависимостей и запуска сборки проекта.
* В ветках с тасками не допускается хранить файлы, сгенерированные сборщиком. Такие файлы должны игнорироваться с помощью `.gitignore`.
* Сборщики, например, `webpack`, конфигурируются так, чтобы собранный проект размещался в папке `dist`. Данная папка указана в существующем `.gitignore`, она не будет отслеживаться гитом и попадать в ветку задания на гитхабе.

## Как сделать деплой задания из приватного репозитория школы?
* Деплой таска выполняется при помощи сервиса `gh-pages`. Для этого необходимо от ветки main создать ветку `gh-pages`. Файлы `.gitignore` и `README.md` удалять не нужно.
* Для деплоя проекта с помощью соответствующего скрипта запустите сборку или обновите файлы в папке `dist`. Перейдите на ветку `gh-pages` с помощью `git checkout gh-pages`. Обратите внимание, что при первом переходе может потребоваться выполнение команды `git fetch origin gh-pages`. 
* В случае неиспользования сборщиков или использования отдельных утилит для сборки, например, `sass`, для деплоя необходимо вручную скопировать нужные файлы в папку `dist`.
* В ветке `gh-pages` в папке с названием таска должна отображаться папка `dist`.
* Вынесите копированием файлы из папки `dist` на уровень выше, непосредственно в папку таска, или в другую папку в корне репозитория в соответствии с требованиями задания, после чего файлы пометятся как untracked.
* В консоли выполните команды `git add` с указанием данных файлов, `git commit -m <имя коммита>`, `git push origin gh-pages`. Задеплоенный проект будет доступен по ссылке следующего вида: `https://rolling-scopes-school.github.io/repository-name/folder-name`, где
    - `repository-name` - имя вашего репозитория в rs school  
    - `folder-name` - имя папки с файлами проекта  при условии размещения файла `index.html` в корне папки с именем таска.
* Для обновления деплоя необходимо повторить действия со сборкой проекта в ветке таска и с манипуляцией содержимого папки `dist` в ветке `gh-pages`.
* Обязательным требованием является отсутствие исходных файлов проекта в ветке `gh-pages`. Здесь могут размещаться только собранные проекты.
* Таким образом деплоятся и все остальные проекты, для каждого из них создаётся отдельная папка 
    - так [выглядит](https://docs.rs.school/images/deploy-to-gh-pages.png) ветка `gh-pages` с папками проектов
    - пример ссылки: `https://rolling-scopes-school.github.io/irinainina-JS2020Q3/repair-design-project/`

## Я удалил ветку gh-pages, что делать?
1. Cоздайте заново ветку `gh-pages` от `main` и запушьте ее в свой школьный приватный репозиторий
2. В Dashboard RS APP нажмите кнопку Send Invite 
3. Сделайте любой коммит в ветку `gh-pages` и запуште изменения. (Каждый пуш в `gh-pages` запускает механизм деплоя этой ветки)
4. Подождите 5 минут
